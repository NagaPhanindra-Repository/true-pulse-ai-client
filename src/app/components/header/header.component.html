<header class="main-header">
  <div class="header-content">
    <div class="brand">
      <img src="assets/logo.svg" alt="TruePulse AI Logo" class="brand-logo" />
      <span class="brand-name">TruePulse <span class="ai-gradient">AI</span></span>
    </div>
    <nav class="nav-links">
      <a routerLink="/dashboard">Home</a>
      <a routerLink="/retros">Retros</a>
      <a routerLink="/questions">Questions</a>
      <a routerLink="/followers">Followers</a>
      <a href="#">Contact</a>
    </nav>
    <div class="header-actions">
      <ng-container *ngIf="!isLoggedIn; else loggedInBlock">
        <button class="login-btn" (click)="showLogin = true">Login In</button>
        <button class="signup-btn" (click)="showSignUp = true">Sign Up</button>
      </ng-container>
      <ng-template #loggedInBlock>
        <div class="profile-menu-wrapper"
             (mouseenter)="toggleProfileDropdown(true)"
             (mouseleave)="toggleProfileDropdown(false)">
          <img [src]="profilePic" alt="Profile" class="profile-pic" />
          <span class="profile-label">
            <ng-container *ngIf="userName; else profileText">{{ userName }}</ng-container>
            <ng-template #profileText>Profile</ng-template>
          </span>
          <div class="profile-dropdown glassy-card" *ngIf="showProfileDropdown">
            <a href="#">My Profile</a>
            <a href="#">Settings</a>
            <a href="#" (click)="logout()">Logout</a>
          </div>
        </div>
      </ng-template>
    </div>
  </div>
  <div class="signup-modal" *ngIf="showSignUp">
    <div class="signup-modal-backdrop" (click)="showSignUp = false"></div>
    <div class="signup-modal-content">
      <button class="signup-modal-close" (click)="showSignUp = false">×</button>
      <app-sign-up (signupSuccess)="showSignUp = false; showLogin = true; loginSuccessMessage = $event"></app-sign-up>
    </div>
  </div>
  <div class="signup-modal" *ngIf="showLogin">
    <div class="signup-modal-backdrop" (click)="showLogin = false; loginSuccessMessage = null"></div>
    <div class="signup-modal-content">
      <button class="signup-modal-close" (click)="showLogin = false; loginSuccessMessage = null">×</button>
      <app-login-in [successMessage]="loginSuccessMessage" (closeLogin)="showLogin = false; loginSuccessMessage = null"></app-login-in>
    </div>
  </div>
</header>

